# Internships for developers

**В данный момент идёт разработка версии v1 приложения**

## Стэк и зависимости.

Для разработки приложения используется Python версии 12 и выше.
В контейнере - **python:3.12.3-bookworm**

Приложение разрабатывается с FastApi, SQLAlchemy ORM, PostgreSQL.

Все зависимости указаны в pyproject.toml.


## Работа с ветками и версиями.


### Окружение

Перед клонированием приложения необходимо локально создать виртуальное окружение.

После клонирования проверить и по необходимости внести в .gitignore название папки окружения.

В корне проекта создать папку .env c переменными окружения по образцу файла .env.template.


### Работа с Git и с ветками.

После клонирования приложения в локальную ветку **main**, необходимо создать собственную локальную ветку:

                   development/ваше имя - для разработчиков
                   test/ваше имя - для тестировщиков

Готовый код необходимо обрабатывать с линтерами black, isort, ruff, flake8, pylint.

После завершение локальной задачи необходимо описывать её в данном README.md.

Изменения необходимо добавлять в git и создавать commit.

Перед push ветки в удалённый репозиторий необходимо выполнить: 
     
               **git switch main**
               **git pull origin main**
               **git switch development/ваше имя**   (возвращаетесь на свою локальную ветку)
               **git push origin development/ваше имя**

Во-избежание гонки веток необходимо, извещать коллег о своих действиях.


### Миграции.

Миграции осуществляются при запущенном контейнере:

               **docker compose exec app alembic revision --autogenerate -m "ваш init"**

После проверки файла миграций:

               **docker compose exec app alembic upgrade head**


### Тесты

Тестирование запускается в отдельном контейнере с переопределением основной сессии на тестовую.

Команда для запуска тестовой БД:

               **docker compose -f docker-compose.test.yml up -d db_test**

Команда для запуска тестов:

               **docker compose -f docker-compose.test.yml run --rm tests**

Завершить работу с тестовой БД:

               **docker compose -f docker-compose.test.yml down**


